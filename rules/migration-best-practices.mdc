---
description: Best practices for Prisma migrations
alwaysApply: false
---

# Prisma Migration Best Practices

When creating or modifying Prisma migrations:

1. **Review Generated SQL**: Always review the generated SQL in migration files before applying
2. **Descriptive Names**: Use clear, descriptive names for migrations (e.g., `add_user_email_index`)
3. **Data Preservation**: Consider data preservation when modifying or dropping columns
4. **Rollback Strategy**: Plan for rollback - avoid irreversible operations when possible
5. **Production Migrations**: Test migrations on staging before running in production
6. **Custom SQL**: Use `prisma migrate dev --create-only` for custom SQL migrations
7. **Schema Drift**: Regularly check for schema drift with `prisma migrate diff`
